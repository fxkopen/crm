

# 报表

---

报表是企业经营结果的具体呈现，企业可以根据自身需求自定义报表。报表可以查看企业随时间累积的数据，可以按不同的主题组合这些数据，查看详细的统计结果和数据明细，从而帮助您做出明智的决定。



## 业务场景举例

- 业务场景举例：作为销售主管理，查看本季度新增加的客户数。
    - 第一步新建报表。报表是企业根据业务场景定义好报表表头、分组方式、统计项等内容，并定义数据筛选条件。当您需要查看报表数据时，系统根据您定义的报表读取统计数据并展示，详见本章【报表设计】。
        - 1、选择报表模板新建报表。为了让报表设计者快速创建报表模板，产品中按照不同的业务分类，预置了多个报表模板，您可根据实际需要选择合适的模板来新建报表。在本示例中，您可以选择“客户分析-员工新客户数量统计”报表模板。详见本章【报表设计-报表模板】及【附1-预置报表模板介绍】
        - 2、修改数据范围。因需要查看本季度新增加的客户数，所以配置“客户创建时间”为“本季度”或者“客户领取时间”为本季度。详见本章【报表设计-数据范围】
        - 3、配置表头内容。按员工查看新增的客户数，可以根据实际需要对表头字段进行增减。详见本章【报表设计-字段选用】和【报表设计-字段设置】
        - 4、一个简单的报表已配置好，您可以点击“预览”查看报表效果，或是点击“保存”保存为一份新的报表，新报表名称为“员工新客户数量统计”。
    - 第二步查看报表数据。在报表列表中找到刚创建的报表“员工新客户数量统计”，直接点击即可查看报表数据。
        - 在查看报表数据时，您还可以选择筛选场景或是调整数据范围。 详见本章【报表查看】


## 报表设计

- 设计器布局：
    - 左侧：可用字段区域，根据所选模板不同而不同，可以拖拽到右侧。
    - 右上：数据范围设置区域，用于设置报表的筛选条件。
    - 右中：筛选场景（与CRM对应对象的场景一致），可指定报表的默认场景。
    - 右下：报表表样示例区域，仅使用少数几条数据来展示表样（点击预览按钮可查看全部数据）。
        - 点击表头进行字段的分组、统计、排序设置。
- 报表中字段补充：
    - 报表可用字段，包括各业务对象预设字段和“CRM管理-字段管理”中配置的自定义字段。
    - 目前已支持同步的字段类型：单行文本、多行文本、单选、多选、二级单选、整数、小数、金额、日期、电话、邮件、自动编号、计算字段。
    - 不支持在报表中显示的字段类型：图片、附件、分割线。
    - 自定义字段可实时同步。

![image_1b9un6ki1m9j1dmend7cv01joq20.png-76.9kB][1]


### 报表模板

 为了快速新建报表，在纷享CRM中按照不同的业务分类，预置了多个报表模板，您可根据实际需要选择合适的模板来新建报表。

- 模板说明：所有的报表都是基于一个业务主题域，如“客户分析”即以分析客户为主，包括分析员工新增客户数量、客户来源统计、客户级别统计等围绕客户的统计报表。
- 报表模板使用：点击新建报表时，系统会弹出预置报的报表模板，您需要根据业务场景选择主题域和报表模板来创建报表。 
- 新建全部报表：即按系统最新的报表模板全部新建一份报表。如果报表分类已存在，则新建失败。当您添加纷享CRM应用时，系统默认会为企业按系统预设模板新建全部报表,即您第一次进入“报表”菜单时看到的报表分类和报表，这样您就不需要再点击此操作了。

![image_1bah4tbcp12bq1hpl10o59r21n179.png-43kB][3]
​    
​    注意：
​    1.根据新建报表时选择的模板不同，左侧的报表可用字段不同，默认的筛选场景也不同。
​    2.报表管理员可以使用【新建全部报表】按钮，一键将产品中预置的全部模板生成对应的报表。

### 空白模板---自定义对象分析
- 从新建报表进入，选择空白模板，可以进行自定义对象的分析。
- 首先需要选择主对象，选择主对象会同时带上主对象的相关团队、销售记录。
- 选择主对象后会自动带出其关联对象，可根据需要自定义选择。
  ![20170901194255-51.jpg-35.4kB][2]

- 选择好需要的对象后点击“确定”可进入报表设计页面，之后可根据需要拖拽字段，设置数据范围等设计报表。

### 字段选用
定义报表时需选择报表列

- 字段来源：打开报表设计时，系统会要求您选择一个主题域，每一个主题域都预设好了报表可用字段，不支持添加新的字段。
- 排序：字段列表所有可用字段的排序按照首字母A-Z进行排序。
- 增加报表中的字段：拖拽添加，新字段会增加到高亮列的右侧。

![image_1b9undjll1kfqgac1e84d9712jg3a.png-82kB][4]

- 删除报表中的字段：
    - 一是可以选择 表头下拉-删除列；
    - 二是拖拽该字段到字段列表区域，点击确定删除。

![image_1b9ung2tjn8jedaq9d190i44947.png-72.2kB][5]

- 调整报表中字段的顺序：拖拽调整，字段会移动到高亮列的右侧。
- 搜索需要的字段：在左侧字段可选区域，可按字段类型进行分类，或者直接输入关键字进行模糊查询。

![image_1b9uni0as1d4a1ps3q361fr7anb4k.png-63.8kB][6]

### 字段设置

     报表设计小窍门：
    掌握将业务术语翻译成报表术语的规则，就可以轻松设计出符合业务需求的报表啦～
    例1. 按部门统计订单总额————对 部门 字段做【分组】，对 订单金额 字段做【统计-求和】。
    例2.先按部门、再按销售人员统计订单总额————对 部门 、 员工姓名 字段做【分组】，将 部门 字段放在 员工姓名 字段的左侧（代表以部门为一级分组、员工姓名为二级分组），对 订单金额 字段做【统计-求和】。
    另外注意报表设计页面的右下方仅显示每组前两条数据作为表样示例，点击预览或保存之后查看到的才是真正的数据。

- 分组：表头下拉设置，分组后会合并显示。
    - 有多个分组时，默认将后设置的作为下一级分组，可拖拽列头进行调整。
    - 注意：最多支持五层分组。

![image_1b9unldu71014u2s1jvetur50k51.png-40.6kB][7]

   

- 统计：表头下拉设置，会按照分组逐层进行汇总统计。

![09统计.png-21.9kB][8]

- 根据字段类型不同可设置的统计方式不同。

![10三种字段类型支持的统计方式.png-10kB][9]

- 排序：
    - 使用表头下拉设置升序、降序、取消排序。
    - 直接点击表头快速进行升序/降序的切换。
    - 注意：分组字段暂不支持取消排序，默认升序。

![11排序.png-12.6kB][10]

   

### 筛选场景
- 产品中为每个模板预先配置了筛选场景，可以指定查看报表时使用哪一个场景标签作为默认值。

![12筛选场景-编辑态.png-28.9kB][11]


### 数据范围

    报表设计小窍门：
    例1.统计本月新增客户的数量————在【数据范围】增加一条筛选条件，客户创建时间 为 本月。
    例2.统计A类客户的数量————在【数据范围】增加一条筛选条件，客户级别 是 A类客户。
    另外注意报表设计页面的右下方仅显示每组前两条数据作为表样示例，点击预览或保存之后查看到的才是真正的数据。

- 数据范围编辑区域用于指定报表的筛选条件。
    - 条件字段可从左侧可选字段区域、从报表表头拖拽使用。
    - 条件的比较符根据所用字段类型不同而有所区别。
    - 锁定的条件在查看报表时不可修改。
- 数据范围字段选用
 - 枚举字段、人员字段可以直接下拉选择；

![13数据范围.png-16.2kB][12]

## 报表查看

- 报表查看页面布局：
    - 筛选场景标签：用于切换不同场景。
    - 表头区域：可针对每列进行排序和数据过滤。
    - 数据范围：可修改预置好的筛选条件。
    - 数据显示区域：
        - 分组区域：以合并的方式显示各级分组。
        - 明细区域：以行的方式显示组内明细数据。
        - 合计区域：逐层对各级分组进行数据统计。
        - 总计区域：对所有数据进行总体统计。

![14报表查看.png-28.5kB][13]

    注意：
    1、每次进入报表查看页面，会重新进行取数运算，根据查看时间、用户不同，同一个报表中显示的数据也会不同。
    2、使用导出功能可将当时的报表数据导到Excel文件里留存备份。

### 筛选场景

- 切换场景标签可以快速查看不同场景下的数据。

![15筛选场景-运行态.png-22.4kB][14]


###  数据范围
- 查看报表时可以修改数据范围弹层中未锁定的条件。

![16数据范围-运行态.png-24.6kB][15]

### 表头数据过滤

- 查看报表时可直接基于表头进行数据的快速过滤 。
    - 设置的条件会显示在表头上方，点击编辑，X号删除。

![17数据过滤.png-16kB][16]

- 根据当前列的数据类型不同，提供的输入方式也不同。

![18数据过滤-三种类型.png-13.2kB][17]
![2017-05-25_182952.png-8.7kB][18]

###  排序

- 使用表头下拉设置升序、降序、取消排序。
- 直接点击表头快速进行升序/降序的切换。
- 注意：分组字段暂不支持取消排序，默认升序。

![11排序.png-12.6kB][19]

​    

### 统计列排序

支持对“统计列”进行排序，举例：某报表第一分组为：主属部门，第二分组为：订单状态，统计列：销售订单金额-求和，此时对销售订单金额-求和排序

![](.\images\统计列排序.png)

**排序规则说明：**

•先对第一个分组每个部门的小计进行排序；

•再在各个部门内，对订单状态的小计进行排序

•最后在各个状态内，对每一个明细订单金额进行排序；

•统计列排序不能与分组排序同时进行;



##### 当某统计列有多个统计方式时，排序时需要先选择一个统计方式，即每次仅能对一个统计方式排序

![](.\images\统计列排序01.png)

### 列冻结

- 使用表头下拉-冻结至本列，将本列及其左侧所有列冻结，右侧剩余列可横线滚动查看。
- 注意：所有分组列默认为列冻结状态。

###  链接到CRM详情页
- 点击报表中各业务对象主属性都可以链接到该对象对应的详情页。如“客户”下的“客户名称”，“销售订单”下的“销售订单编号”。
  ![2017-03-03_113119.png-101.4kB][20]

### 主属部门下钻

  - 当使用员工主属部门字段作为分组字段时，可以按照组织架构层级下钻，当所在层级还有子部门时显示蓝色字，点击可以下钻到下一层级，表头显示面包屑。

- 新建报表时，拖动负责人主属部门到表头，不作为分组字段时，显示的是员工的主属部门，作为分组字段时显示成全公司，预览和详情页面可以点击点击全公司下钻到下一层级，依次点击可以按照组织架构查看明细，下钻到个人会停止，点击报表上方的面包屑可以回到面包屑显示的任意层级。

- 当数据范围中用负责人主属部门筛选部门时，不会显示全公司，直接从部门开始显示，例如在数据范围处设定负责人主属部门是产品部门和运营中心，在报表的负责人主属部门下就直接显示这两个部门，预览页下钻也是从部门开始下钻

  ![](.\images\报表-负责人主属部门.png)

  ![负责人主属部门筛选](.\images\负责人主属部门筛选.png)

###  其他
- 转发：转发报表给其他用户时，其他用户看到的是自己权限范围内的数据，不能看到当前用户的数据；
- 分享：分享报表是将该报表以一张Excel表的形式进行分享，其他可见范围的用户看到的均是一样的报表；
- 导出
    - 在查看报表页面导出时，会带上当前页面中设置了的筛选场景、数据范围和数据过滤条件，保证导出的数据与当前看到的数据一致。
    - 在报表列表的操作栏进行导出时，会使用默认的筛选场景和数据范围。
    - 注意：查看报表时设置的筛选场景、数据范围和数据过滤条件都是一次性的，不会被保存下来。如需保存，请进入报表设计器进行修改。

##交叉表

#####交叉表是由行字段、列字段、统计字段组成的多维分组汇总的表格。

解决场景：可同时从多个维度统计数据，以下举例：

- #####场景1: 统计各部门、2019各季度的销量情况

行字段：主属部门、列字段：下单日期-季度、统计字段：销售订单金额(元)-求和

![](.\images\交叉表01.png)

- #####场景2: 统计各员工负责的客户、2019各季度各月的销量情况

  行字段：负责人、客户名称，列字段：下单日期-季度、下单日期-月，统计字段：销售订单编号-唯一计数、销售订单金额(元)-求和

![](.\images\交叉表02.png)

- #####场景3:统计各员工各状态线索数

  行字段：负责人，列字段：状态，统计字段：姓名-唯一计数、手机-唯一计数

  ![](.\images\各员工各状态线索数.png)

##### 功能说明：
- 支持多个行、列分组，最多支持共5个分组；
- 支持最多5个统计列；
- 支持日期&日期时间类型按照年、季度、月、日层级分组；
- 显示行、列小计和总计；
- 统计值、小计、总计均支持点击查看明细；
- 支持分组字段排序、支持数据范围筛选；



#####操作说明：

新建报表-空白模板，选择交叉表，具体操作视频可通过编辑页面右上角的“操作视频”查看

https://www.fxiaoke.com/mob/guide/crmdoc/video/?id=7





## 预置报表模板介绍

产品中预置了多个常用的分析报表模板，新建报表时根据实际需要进行，在预置模板的基础上经过简单修改就可以满足各种个性化需求，保存后即可长久使用。
详见 [[附1-预置报表模板介绍](6-7附1-预置报表模板介绍.md)]


[1]: ./images/image_1b9un6ki1m9j1dmend7cv01joq20.png
[2]: ./images/20170901194255-51.jpg
[3]: ./images/image_1bah4tbcp12bq1hpl10o59r21n179.png
[4]: ./images/image_1b9undjll1kfqgac1e84d9712jg3a.png
[5]: ./images/image_1b9ung2tjn8jedaq9d190i44947.png
[6]: ./images/image_1b9uni0as1d4a1ps3q361fr7anb4k.png
[7]: ./images/image_1b9unldu71014u2s1jvetur50k51.png
[8]: ./images/6107.png
[9]: ./images/6108.png
[10]: ./images/6109.png
[11]: ./images/6110.png
[12]: ./images/6111.png
[13]: ./images/6112.png
[14]: ./images/6113.png
[15]: ./images/6114.png
[16]: ./images/6115.png
[17]: ./images/6116.png
[18]: ./images/2017-05-25_182952.png
[19]: ./images/6109.png
[20]: ./images/2017-03-03_113119.png